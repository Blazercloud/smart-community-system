# 智慧社区平台开发文档

## 1. 项目概述

智慧社区平台是一个基于前后端分离架构的社区管理系统，旨在为社区居民提供便捷的生活服务与物业管理功能。系统支持用户端、商户端、社区管理端与系统管理后台四大角色。

### 1.1 技术栈

#### 前端技术栈
- Vue 3.2 + Vite 4
- Element Plus 组件库
- Pinia 状态管理
- Axios HTTP 客户端
- ECharts 图表库

#### 后端技术栈
- Spring Boot 3.x
- MyBatis-Plus ORM 框架
- Redis 缓存系统
- SLF4J + Logback 日志系统
- JWT 用户认证机制
- MinIO 对象存储

#### 数据库
- MySQL 关系型数据库

### 1.2 系统架构

系统采用前后端分离架构，前端通过 RESTful API 与后端进行数据交互，后端提供统一的 API 接口并处理业务逻辑。

## 2. 待完成功能模块

### 2.1 用户端功能

#### 2.1.1 用户认证与账户管理
- 用户信息查看与编辑尚不完整

#### 2.1.2 社区服务
- 物业缴费功能未完成
- 投诉模块功能未完成

#### 2.1.3 商城系统
- 商品浏览与搜索
- 购物车管理
- 订单管理
- 在线支付模拟

### 2.2 商户端功能

#### 2.2.1 趋势图

- 商家登录后自动跳转主页面未实现

#### 2.2.2 商品管理
- 商品信息维护（增删改查）
- 商品分类管理
- 商品库存管理

#### 2.2.3 订单管理
- 订单处理与状态更新
- 订单统计与分析
- 销售数据可视化

### 2.3 管理后台功能

#### 2.3.2 社区管理
- 访客功能模块
- 物业缴费模块
- 投诉处理模块
- 登陆成功首页跳转

## 3. 数据库设计

系统数据库包含以下主要表结构：

1. 用户表（user）：存储用户基本信息
2. 管理员表（admin）：存储管理员信息
3. 商户表（shop）：存储商户信息
4. 商品表（product）：存储商品信息
5. 订单表（orders）：存储订单信息
6. 订单项表（order_item）：存储订单详情
7. 购物车表（cart）：存储购物车信息
8. 车位表（parking_space）：存储车位信息
9. 车位申请表（parking_application）：存储车位申请记录
10. 报修表（repair）：存储报修信息
11. 公告表（notice）：存储社区公告
12. 访客表（visitor）：存储访客信息
13. 投诉表（complaint）：存储投诉信息
14. 物业缴费表（property_payment）：存储物业缴费记录
## 4.为什么同时使用entity、vo、dto三种实体类
在Java企业级开发中，使用VO、DTO、Entity三种不同的实体类是一种常见的分层架构设计模式，它们各自有不同的职责和用途。让我来解释一下这三者的区别和作用：
1. Entity（实体类）
   Entity是与数据库表直接映射的类，通常与ORM框架（如MyBatis、Hibernate等）配合使用。它代表了数据持久化层的对象。
   特点：
   与数据库表结构一一对应
   包含表字段的getter/setter方法
   通常使用JPA注解或MyBatis注解进行映射
   主要用于数据持久化操作

2. DTO（Data Transfer Object，数据传输对象）
   DTO用于在不同层之间或不同系统之间传输数据。它可以根据业务需求封装多个Entity或部分Entity字段。
   特点：
   用于服务层与控制层之间的数据传输
   可以组合多个Entity的数据
   可以根据接口需求定制字段
   避免暴露Entity中的敏感字段
   减少网络传输的数据量

3. VO（View Object，视图对象）
   VO是专门用于展示层的对象，通常用于向前端传递数据。
   特点：
   用于控制层向视图层传递数据
   可以根据前端展示需求定制数据格式
   可能包含格式化后的数据
   可能包含多个DTO或Entity的组合数据
   便于前端直接使用，无需额外处理

4. 为什么要区分这三种对象？
   职责分离：每种对象有明确的职责，符合单一职责原则
   数据安全：避免将数据库敏感字段直接暴露给前端
   灵活性：可以根据不同层的需求定制数据结构
   可维护性：当数据库结构变化时，只需修改Entity，其他层不受影响
   性能优化：只传输需要的数据，减少网络开销

5. 为什么需要三种不同的类？

  - 数据隔离和安全性

    Entity直接对应数据库表，包含所有原始数据

    VO只向前端暴露需要的数据，隐藏敏感字段

    DTO在服务层之间传输数据，可以按需组合

  - 层次清晰

    数据库层使用Entity进行持久化操作

    业务逻辑层使用DTO进行数据传输

    展示层使用VO进行数据展示

  - 灵活性

    当数据库结构变化时，只需修改Entity和相关映射

    当前端展示需求变化时，只需修改VO

    当业务逻辑变化时，只需修改DTO

  - 性能优化

    避免传输不必要的数据字段

    可以根据需要组合多个Entity的数据

  - 可维护性

    各层职责明确，便于维护和扩展

    降低了各层之间的耦合度

    这种设计模式虽然增加了代码量，但提高了系统的可维护性、安全性和扩展性，是企业级应用开发中的最佳实践
## 5. API 接口

系统提供完整的 RESTful API 接口，包括用户管理、商户管理、商品管理、订单管理、社区服务等模块。

## 6. 注意事项

1. 系统使用 JWT和Redis 进行身份验证，请确保密钥安全
2. 文件上传功能依赖 MinIO 服务，请确保配置正确
3. 数据库连接信息在 application.yml 中配置
4. 前端 API 地址在 request.js 中配置